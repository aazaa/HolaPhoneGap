<html>
<html>
<head id="Head_Menu">
    <link href="Componentes/Estilos/Menu.css" rel="stylesheet" type="text/css" />
    <link href="Componentes/Estilos/jquery.mmenu.all.css" rel="stylesheet" type="text/css" />
    <script src="Componentes/Scripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="Componentes/Scripts/jquery.mmenu.min.all.js" type="text/javascript"></script>
    <script src="Componentes/Scripts/CrearAlarma.js" type="text/javascript"></script>
    <script src="Componentes/Scripts/Menu.js" type="text/javascript"></script>
    <title>VO</title>  
</head>
 

<body>
    <div id="page">
        <div class="header">
            <a href="#menu"></a> MENU PRINCIPAL
        </div>
        <nav id="menu">
				<ul>
					<li><a href="CrearAlarma.html">Alarmas</a>
                        <ul>
							<li><a href="CrearAlarma.html">Crear Alarma</a></li>
							<li><a href="#">Alarmas Activas</a></li>
                            <li><a href="#">Alarmas Hist&#243;ricas</a></li>
                        </ul>
                    </li>
					<li><a href="#about">Configuraciones</a>
						<ul>
							<li><a href="#">Datos Personales</a></li>
                            <li><a href="#">Mensajer&#237;a</a></li>
							<li><a href="#">Red de Vecinos</a>
								<ul>
									<li><a href="#">Vecinos Conocidos</a></li>
									<li><a href="#">Calificaciones</a></li>
								</ul>
							</li>
						</ul>
					</li>
					<li><a href="#contact">Contact</a></li>
				</ul>
			</nav>
    </div>
</body>
 
 <!--
<script type="text/javascript" charset="utf-8" src="cordova-1.8.1.js"></script>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script> 
-->
 <!--
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCTwSyuSvqrNmXA32DrIrHf1VMBx02o0HE&sensor=false&libraries=geometry"></script>
     -->


<script type="text/javascript">
    var $jq = jQuery.noConflict();
         $jq(document).ready(function ($) {
         	alert("antes de inicio");
             Menu.InicioPorDefault($);
		alert("Después de inicio");
         });
window.onerror = function(msg, url, linenumber) {
    alert('Error message: '+msg+'\nURL: '+url+'\nLine Number: '+linenumber);
    return true;
}

</script>
<!--
<script type="text/javascript">    
        /**
        * Aplicación iniciada
        */
        function aplicacionIniciada() {
        }

        /**
        * Aplicación pausada
        */
        function aplicacionPausada() {
        }

        /**
        * Aplicación reiniciada
        */
        function aplicacionReiniciada() {
        }

        /**
        * Phonegap tiene acceso a internet
        */
        function phonegapOnline() {
        }

        /**
        * Phonegap NO tiene acceso a internet
        */
        function phonegapOffline() {
        }

        /**
        * Se ha pulsado la tecla atrás
        */
        function atrasPulsado() {
        }

        /**
        * Se ha pulsado la tecla atrás
        */
        function menuPulsado() {
        }

        /**
        * Se ha pulsado la tecla búsqueda
        */
        function busquedaPulsado() {
        }

        // ====================================================================
        // Llamadas a la API
        // --------------------------------------------------------------------
            
		 function probarApi2() {
 
 
			var pedido = "";
				
				$("#div_checkboxes").children("input:checked").map(function() {
					pedido= this.value;
				});
			
				if	(pedido==""){
				
				alert("Debe seleccionar un pedido");
				return;
				}
 
 
            $.ajax({

                url: 'http://localhost:6298/acceso.aspx/AndroidAprobarPedidoPorNro',
                type: 'POST',
                data:  '{"pedido":"' + pedido+ '"}',
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
				processData: false,
                success: function (data) {
			//	alert(data.d);
                    if (data.d=="True") {                       
					   alert("Pedido aprobado correctamente");					   
					   probarApi();					   
                    }
                    else {
                        alert("ERROR AL APROBAR PEDIDO");
                    }                },
                error: function (request, error) {
                    alert("Request: " + JSON.stringify(request));
                }
            });

        }
		
        function probarApi() {
 
		$('#div_checkboxes').empty();

            $.ajax({

                url: 'http://localhost:6298/acceso.aspx/AndroidGetPedidosPendientes',
                type: 'GET',
             //   data: "{}",
                  contentType: 'application/json',
                dataType: 'json',
                success: function (data) {
			//	alert(data.d);
                    if (data!="") {
                       
					   var arr = data.d.toString().split(",");
					   
					   $.each(arr, function (ind, elem) { 

					   $('<input type="radio" name="dynradio" value ='+elem+' id='+elem+' />'+ elem+'<br />').appendTo('#div_checkboxes');

						//console.log('¡Hola :'+elem+'!'); 

						}); 
				   
					   
                    }
                    else {
                        alert("NO HAY PEDIDOS PENDIENTES");

                    }
                  

                    //alert('Data: ' + data);
                },
                error: function (request, error) {
                    alert("Request: " + JSON.stringify(request));
                }
            });
            
            //navigator.geolocation.getCurrentPosition(onSuccess, onError);
        }

        /**
        * http://docs.phonegap.com/en/1.0.0/phonegap_geolocation_geolocation.md.html#Geolocation
        */
        function onSuccess(position) {

        
        };

        /**
        * http://docs.phonegap.com/en/1.0.0/phonegap_geolocation_geolocation.md.html#Geolocation
        */
        function onError(error) {
            var mensaje =
                'code: ' + error.code + '\n' +
                'message: ' + error.message + '\n';

            navigator.notification.alert
            (
                mensaje,        // message
                alertDismissed, // callback
                '¡Error!',      // title
                '¡Hecho!'       // buttonName
            );
        }

        /**
        * http://docs.phonegap.com/en/1.0.0/phonegap_notification_notification.md.html#Notification
        */
        function alertDismissed() {
        }
    </script>
-->
</html>

